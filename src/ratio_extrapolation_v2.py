#!/usr/bin/env python3
"""
–≠–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è ratio = R(1)/R_min –Ω–∞ –±–æ–ª—å—à–∏–µ N.

–í–û–ü–†–û–°: –ü—Ä–∏ –∫–∞–∫–æ–º N ratio –ø—Ä–µ–≤—ã—Å–∏—Ç 2?
"""

import numpy as np

# –ò–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:
# Ratio ~ 0.9076 √ó N^{0.0660}

a = 0.9076
b = 0.0660

print("=" * 60)
print("–≠–ö–°–¢–†–ê–ü–û–õ–Ø–¶–ò–Ø: Ratio = R(1)/R_min ~ a √ó N^b")
print("=" * 60)
print(f"a = {a:.4f}")
print(f"b = {b:.4f}")

print("\n" + "=" * 60)
print("–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ ratio –¥–ª—è –±–æ–ª—å—à–∏—Ö N:")
print("=" * 60)
print(f"{'N':>12} {'ratio':>10}")
print("-" * 25)

for N in [1000, 5000, 10000, 50000, 100000, 500000, 1e6, 1e7, 1e8, 1e9, 1e10]:
    ratio = a * N**b
    print(f"{N:>12.0f} {ratio:>10.4f}")

# –ü—Ä–∏ –∫–∞–∫–æ–º N ratio = 2?
N_crit = (2 / a)**(1/b)
print(f"\nüö® Ratio = 2 –ø—Ä–∏ N ‚âà {N_crit:.2e}")

# –ü—Ä–∏ –∫–∞–∫–æ–º N ratio = 1.5?
N_15 = (1.5 / a)**(1/b)
print(f"   Ratio = 1.5 –ø—Ä–∏ N ‚âà {N_15:.2e}")

# –°–∫–æ–ª—å–∫–æ twins –¥–æ 10^9?
# Hardy-Littlewood: œÄ‚ÇÇ(X) ~ 2C‚ÇÇ √ó X / (log X)¬≤
# C‚ÇÇ ‚âà 0.66
# –ü—Ä–∏ X = 10^9: œÄ‚ÇÇ ~ 2 √ó 0.66 √ó 10^9 / (20.7)¬≤ ‚âà 3.1 √ó 10^6

print("\n" + "=" * 60)
print("–û—Ü–µ–Ω–∫–∞ —á–∏—Å–ª–∞ twins:")
print("=" * 60)
C2 = 0.6601618
for X in [1e6, 1e9, 1e12, 1e15, 1e18]:
    log_X = np.log(X)
    N_est = 2 * C2 * X / log_X**2
    ratio_est = a * N_est**b
    print(f"X = {X:.0e}: N ‚âà {N_est:.2e}, ratio ‚âà {ratio_est:.4f}")

print("\n" + "=" * 60)
print("–í–´–í–û–î:")
print("=" * 60)
print("""
Ratio = R(1)/R_min ~ N^{0.066} –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞—Å—Ç—ë—Ç.

–î–ª—è ratio < 2 –Ω—É–∂–Ω–æ N < %.2e

–ü—Ä–∏ X = 10^15: N ~ 10^12 twins, ratio ‚âà 2.5

‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: –î–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö N ratio –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—Å–∏—Ç—å –ª—é–±–æ–π bound!

–ù–û:
- R(1) ~ N^{0.946} ‚Üí ‚àû
- R_min ~ N^{0.880} ‚Üí ‚àû
- –û–ë–ê —Ä–∞—Å—Ç—É—Ç!

–î–∞–∂–µ –µ—Å–ª–∏ ratio ‚Üí ‚àû –º–µ–¥–ª–µ–Ω–Ω–æ, —ç—Ç–æ –ù–ï –º–µ—à–∞–µ—Ç R_min ‚Üí ‚àû!

–ö–õ–Æ–ß: R_min = R(1) / ratio ~ N^{0.946} / N^{0.066} = N^{0.880} ‚Üí ‚àû

–¢.–µ. R_min ‚Üí ‚àû –ù–ï–ó–ê–í–ò–°–ò–ú–û –æ—Ç —Ç–æ–≥–æ —á—Ç–æ ratio —Ä–∞—Å—Ç—ë—Ç!
""" % N_crit)

print("\n" + "=" * 60)
print("üéØ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –°–¢–†–ê–¢–ï–ì–ò–Ø:")
print("=" * 60)
print("""
–í–º–µ—Å—Ç–æ "Ratio Bound Conjecture" (ratio ‚â§ C = const)
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

  R_min ~ c √ó N^Œ±  –≥–¥–µ Œ± ‚âà 0.88 > 0

–≠—Ç–æ –î–û–°–¢–ê–¢–û–ß–ù–û –¥–ª—è TPC!

–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:
  SC2: finite twins ‚üπ R_min = O(1)
  –ß–∏—Å–ª–µ–Ω–Ω–æ: R_min ~ N^{0.88} ‚Üí ‚àû
  –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ ‚üπ twins infinite!

–ù–ï –ù–£–ñ–ï–ù bounded ratio!
–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ: R_min ‚Üí ‚àû (–ª—é–±–æ–π —Ä–æ—Å—Ç!)
""")
